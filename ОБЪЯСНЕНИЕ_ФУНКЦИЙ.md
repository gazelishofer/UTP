# üìö –ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–π –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å UTF-8 —Ç–∞–±–ª–∏—Ü–∞–º–∏

*–ü–æ—Å–æ–±–∏–µ –¥–ª—è —Å—Ç—É–¥–µ–Ω—Ç–æ–≤ –ø–µ—Ä–≤–æ–≥–æ –∫—É—Ä—Å–∞*

---

## üéØ –í–≤–µ–¥–µ–Ω–∏–µ

–î–æ—Ä–æ–≥–∏–µ —Å—Ç—É–¥–µ–Ω—Ç—ã! –°–µ–≥–æ–¥–Ω—è –º—ã —Ä–∞–∑–±–µ—Ä—ë–º –∫–∞–∂–¥—É—é —Ñ—É–Ω–∫—Ü–∏—é –Ω–∞—à–µ–π –ø—Ä–æ–≥—Ä–∞–º–º—ã –¥–ª—è –≤—ã–≤–æ–¥–∞ –∫—Ä–∞—Å–∏–≤—ã—Ö —Ç–∞–±–ª–∏—Ü —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π —Ä—É—Å—Å–∫–æ–≥–æ —è–∑—ã–∫–∞ (UTF-8). –Ø –æ–±—ä—è—Å–Ω—é –∫–∞–∂–¥—É—é —Å—Ç—Ä–æ—á–∫—É —Ç–∞–∫, —á—Ç–æ–±—ã –¥–∞–∂–µ –µ—Å–ª–∏ –≤—ã —Ç–æ–ª—å–∫–æ –Ω–∞—á–∞–ª–∏ –∏–∑—É—á–∞—Ç—å –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ, –≤—Å—ë —Å—Ç–∞–ª–æ –ø–æ–Ω—è—Ç–Ω–æ.

---

## üî§ 1. –§—É–Ω–∫—Ü–∏—è `utf8_width()` - –ü–æ–¥—Å—á—ë—Ç –≤–∏–¥–∏–º—ã—Ö —Å–∏–º–≤–æ–ª–æ–≤

```cpp
int utf8_width(const string& s) {
    int count = 0;
    for (size_t i = 0; i < s.size(); ) {
        unsigned char c = s[i];
        int len = 1;

        if ((c & 0x80) == 0) len = 1;           // ASCII
        else if ((c & 0xE0) == 0xC0) len = 2;  // 2-byte UTF-8
        else if ((c & 0xF0) == 0xE0) len = 3;  // 3-byte UTF-8
        else if ((c & 0xF8) == 0xF0) len = 4;  // 4-byte UTF-8

        i += len;
        count++;
    }
    return count;
}
```

### üìñ –ß—Ç–æ –¥–µ–ª–∞–µ—Ç —ç—Ç–∞ —Ñ—É–Ω–∫—Ü–∏—è?
–ü–æ–¥—Å—á–∏—Ç—ã–≤–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ **–≤–∏–¥–∏–º—ã—Ö —Å–∏–º–≤–æ–ª–æ–≤** –≤ —Å—Ç—Ä–æ–∫–µ, –ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—è —Ä—É—Å—Å–∫–∏–µ –±—É–∫–≤—ã –∏ –¥—Ä—É–≥–∏–µ Unicode —Å–∏–º–≤–æ–ª—ã.

### üîç –†–∞–∑–±–æ—Ä –ø–æ —Å—Ç—Ä–æ—á–∫–∞–º:

**–°—Ç—Ä–æ–∫–∞ 1:** `int utf8_width(const string& s)`
- –û–±—ä—è–≤–ª—è–µ–º —Ñ—É–Ω–∫—Ü–∏—é, –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Å—Ç—Ä–æ–∫—É `s` –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ü–µ–ª–æ–µ —á–∏—Å–ª–æ
- `const` –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –º—ã –Ω–µ –±—É–¥–µ–º –∏–∑–º–µ–Ω—è—Ç—å –≤—Ö–æ–¥–Ω—É—é —Å—Ç—Ä–æ–∫—É

**–°—Ç—Ä–æ–∫–∞ 2:** `int count = 0;`
- –°–æ–∑–¥–∞—ë–º —Å—á—ë—Ç—á–∏–∫ —Å–∏–º–≤–æ–ª–æ–≤, –Ω–∞—á–∏–Ω–∞–µ–º —Å –Ω—É–ª—è

**–°—Ç—Ä–æ–∫–∞ 3:** `for (size_t i = 0; i < s.size(); )`
- –ù–∞—á–∏–Ω–∞–µ–º —Ü–∏–∫–ª –ø–æ –≤—Å–µ–º –±–∞–π—Ç–∞–º —Å—Ç—Ä–æ–∫–∏
- **–í–∞–∂–Ω–æ!** –û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ: –Ω–µ—Ç `i++` –≤ –∫–æ–Ω—Ü–µ - –º—ã —Å–∞–º–∏ –±—É–¥–µ–º —É–ø—Ä–∞–≤–ª—è—Ç—å –ø–µ—Ä–µ—Ö–æ–¥–æ–º

**–°—Ç—Ä–æ–∫–∞ 4:** `unsigned char c = s[i];`
- –ë–µ—Ä—ë–º —Ç–µ–∫—É—â–∏–π –±–∞–π—Ç –∏–∑ —Å—Ç—Ä–æ–∫–∏
- `unsigned char` –Ω—É–∂–µ–Ω –¥–ª—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç—ã —Å –±–∏—Ç–æ–≤—ã–º–∏ –æ–ø–µ—Ä–∞—Ü–∏—è–º–∏

**–°—Ç—Ä–æ–∫–∞ 5:** `int len = 1;`
- –ü—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ–º, —á—Ç–æ —Å–∏–º–≤–æ–ª –∑–∞–Ω–∏–º–∞–µ—Ç 1 –±–∞–π—Ç (–∫–∞–∫ –æ–±—ã—á–Ω—ã–µ –∞–Ω–≥–ª–∏–π—Å–∫–∏–µ –±—É–∫–≤—ã)

**–°—Ç—Ä–æ–∫–∏ 7-10:** –ë–∏—Ç–æ–≤–∞—è –º–∞–≥–∏—è! üé≠
```cpp
if ((c & 0x80) == 0) len = 1;           // ASCII (0xxxxxxx)
else if ((c & 0xE0) == 0xC0) len = 2;  // UTF-8 (110xxxxx)
else if ((c & 0xF0) == 0xE0) len = 3;  // UTF-8 (1110xxxx)
else if ((c & 0xF8) == 0xF0) len = 4;  // UTF-8 (11110xxx)
```

**–ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
- –ö–∞–∂–¥—ã–π UTF-8 —Å–∏–º–≤–æ–ª –∏–º–µ–µ—Ç —Å–ø–µ—Ü–∏–∞–ª—å–Ω—É—é "–ø–æ–¥–ø–∏—Å—å" –≤ –ø–µ—Ä–≤–æ–º –±–∞–π—Ç–µ
- `0x80` = `10000000` –≤ –¥–≤–æ–∏—á–Ω–æ–º –≤–∏–¥–µ
- `0xE0` = `11100000` –≤ –¥–≤–æ–∏—á–Ω–æ–º –≤–∏–¥–µ
- –°–∏–º–≤–æ–ª `&` - —ç—Ç–æ –±–∏—Ç–æ–≤–æ–µ "–ò"

**–ü—Ä–∏–º–µ—Ä—ã:**
- –ë—É–∫–≤–∞ `A` (ASCII): `01000001` ‚Üí `len = 1`
- –ë—É–∫–≤–∞ `–ê` (—Ä—É—Å—Å–∫–∞—è): `11010000 10000000` ‚Üí `len = 2`
- –°–∏–º–≤–æ–ª `‚Ç¨`: `11100010 10000010 10101100` ‚Üí `len = 3`

**–°—Ç—Ä–æ–∫–∞ 12:** `i += len;`
- –ü–µ—Ä–µ–ø—Ä—ã–≥–∏–≤–∞–µ–º –Ω–∞ —Å–ª–µ–¥—É—é—â–∏–π —Å–∏–º–≤–æ–ª (–Ω–µ –±–∞–π—Ç!)
- –ï—Å–ª–∏ —Å–∏–º–≤–æ–ª –∑–∞–Ω–∏–º–∞–µ—Ç 2 –±–∞–π—Ç–∞, –ø—Ä—ã–≥–∞–µ–º –Ω–∞ 2 –ø–æ–∑–∏—Ü–∏–∏ –≤–ø–µ—Ä—ë–¥

**–°—Ç—Ä–æ–∫–∞ 13:** `count++;`
- –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º —Å—á—ë—Ç—á–∏–∫ **—Å–∏–º–≤–æ–ª–æ–≤** (–Ω–µ –±–∞–π—Ç–æ–≤!)

### üí° –ü–æ—á–µ–º—É —ç—Ç–æ –≤–∞–∂–Ω–æ?
```cpp
string text = "–ü—Ä–∏–≤–µ—Ç";  // 6 —Å–∏–º–≤–æ–ª–æ–≤, –Ω–æ 12 –±–∞–π—Ç–æ–≤!
cout << text.size();     // –í—ã–≤–µ–¥–µ—Ç 12 (–Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ –¥–ª—è –≤—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏—è)
cout << utf8_width(text); // –í—ã–≤–µ–¥–µ—Ç 6 (–ø—Ä–∞–≤–∏–ª—å–Ω–æ!)
```

---

## ‚úÇÔ∏è 2. –§—É–Ω–∫—Ü–∏—è `utf8_substr()` - –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –ø–æ–¥—Å—Ç—Ä–æ–∫–∏

```cpp
string utf8_substr(const string& s, int start, int length) {
    if (start < 0 || length <= 0) return "";
    
    string result = "";
    int charCount = 0;
    int collected = 0;
    
    for (size_t i = 0; i < s.size() && collected < length; ) {
        unsigned char c = s[i];
        int len = 1;

        if ((c & 0x80) == 0) len = 1;
        else if ((c & 0xE0) == 0xC0) len = 2;
        else if ((c & 0xF0) == 0xE0) len = 3;
        else if ((c & 0xF8) == 0xF0) len = 4;

        if (charCount >= start) {
            result += s.substr(i, len);
            collected++;
        }
        
        i += len;
        charCount++;
    }
    
    return result;
}
```

### üìñ –ß—Ç–æ –¥–µ–ª–∞–µ—Ç —ç—Ç–∞ —Ñ—É–Ω–∫—Ü–∏—è?
–ò–∑–≤–ª–µ–∫–∞–µ—Ç –∫—É—Å–æ–∫ —Å—Ç—Ä–æ–∫–∏, –Ω–∞—á–∏–Ω–∞—è —Å –ø–æ–∑–∏—Ü–∏–∏ `start` –∏ –¥–ª–∏–Ω–æ–π `length` **—Å–∏–º–≤–æ–ª–æ–≤** (–Ω–µ –±–∞–π—Ç–æ–≤!).

### üîç –†–∞–∑–±–æ—Ä –ø–æ —Å—Ç—Ä–æ—á–∫–∞–º:

**–°—Ç—Ä–æ–∫–∞ 1:** `string utf8_substr(const string& s, int start, int length)`
- –ü—Ä–∏–Ω–∏–º–∞–µ—Ç: –∏—Å—Ö–æ–¥–Ω—É—é —Å—Ç—Ä–æ–∫—É, –Ω–∞—á–∞–ª—å–Ω—É—é –ø–æ–∑–∏—Ü–∏—é, –¥–ª–∏–Ω—É
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç: –Ω–æ–≤—É—é —Å—Ç—Ä–æ–∫—É

**–°—Ç—Ä–æ–∫–∞ 2:** `if (start < 0 || length <= 0) return "";`
- –ó–∞—â–∏—Ç–∞ –æ—Ç –¥—É—Ä–∞–∫–∞: –µ—Å–ª–∏ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã, –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –ø—É—Å—Ç—É—é —Å—Ç—Ä–æ–∫—É

**–°—Ç—Ä–æ–∫–∏ 4-6:** –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ-–ø–æ–º–æ—â–Ω–∏–∫–∏
```cpp
string result = "";    // –†–µ–∑—É–ª—å—Ç–∞—Ç, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ–º —Å—Ç—Ä–æ–∏—Ç—å
int charCount = 0;     // –°–∫–æ–ª—å–∫–æ —Å–∏–º–≤–æ–ª–æ–≤ —É–∂–µ –ø—Ä–æ—à–ª–∏
int collected = 0;     // –°–∫–æ–ª—å–∫–æ —Å–∏–º–≤–æ–ª–æ–≤ —É–∂–µ —Å–æ–±—Ä–∞–ª–∏ –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç
```

**–°—Ç—Ä–æ–∫–∞ 8:** `for (size_t i = 0; i < s.size() && collected < length; )`
- –ò–¥—ë–º –ø–æ –±–∞–π—Ç–∞–º, –ø–æ–∫–∞ –Ω–µ –¥–æ—Å—Ç–∏–≥–ª–∏ –∫–æ–Ω—Ü–∞ –ò–õ–ò –Ω–µ —Å–æ–±—Ä–∞–ª–∏ –Ω—É–∂–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–∏–º–≤–æ–ª–æ–≤

**–°—Ç—Ä–æ–∫–∏ 9-15:** –¢–∞ –∂–µ –±–∏—Ç–æ–≤–∞—è –º–∞–≥–∏—è –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –¥–ª–∏–Ω—ã —Å–∏–º–≤–æ–ª–∞

**–°—Ç—Ä–æ–∫–∏ 17-20:** –ì–ª–∞–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞!
```cpp
if (charCount >= start) {           // –ï—Å–ª–∏ –¥–æ—à–ª–∏ –¥–æ –Ω—É–∂–Ω–æ–π –ø–æ–∑–∏—Ü–∏–∏
    result += s.substr(i, len);     // –î–æ–±–∞–≤–ª—è–µ–º –≤–µ—Å—å —Å–∏–º–≤–æ–ª (–≤—Å–µ –µ–≥–æ –±–∞–π—Ç—ã!)
    collected++;                    // –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º —Å—á—ë—Ç—á–∏–∫ —Å–æ–±—Ä–∞–Ω–Ω—ã—Ö —Å–∏–º–≤–æ–ª–æ–≤
}
```

**–°—Ç—Ä–æ–∫–∏ 22-23:** –ü–µ—Ä–µ—Ö–æ–¥–∏–º –∫ —Å–ª–µ–¥—É—é—â–µ–º—É —Å–∏–º–≤–æ–ª—É
```cpp
i += len;        // –ü–µ—Ä–µ–ø—Ä—ã–≥–∏–≤–∞–µ–º –≤—Å–µ –±–∞–π—Ç—ã —Ç–µ–∫—É—â–µ–≥–æ —Å–∏–º–≤–æ–ª–∞
charCount++;     // –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º —Å—á—ë—Ç—á–∏–∫ –ø—Ä–æ–π–¥–µ–Ω–Ω—ã—Ö —Å–∏–º–≤–æ–ª–æ–≤
```

### üí° –ü—Ä–∏–º–µ—Ä —Ä–∞–±–æ—Ç—ã:
```cpp
string text = "–ü—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ";  
string part = utf8_substr(text, 0, 8);  // –í–æ–∑—å–º—ë–º –ø–µ—Ä–≤—ã–µ 8 —Å–∏–º–≤–æ–ª–æ–≤
cout << part;  // –í—ã–≤–µ–¥–µ—Ç: "–ü—Ä–æ–≥—Ä–∞–º–º"
```

---

## üì¶ 3. –§—É–Ω–∫—Ü–∏—è `wrapUtf8()` - –ü–µ—Ä–µ–Ω–æ—Å —Ç–µ–∫—Å—Ç–∞ –ø–æ —Å–ª–æ–≤–∞–º

```cpp
vector<string> wrapUtf8(const string& s, int maxWidth) {
    vector<string> lines;
    if (maxWidth <= 0) return lines;
    
    int totalChars = utf8_width(s);
    if (totalChars <= maxWidth) {
        lines.push_back(s);
        return lines;
    }
    
    int start = 0;
    while (start < totalChars) {
        int chunkSize = min(maxWidth, totalChars - start);
        string chunk = utf8_substr(s, start, chunkSize);
        lines.push_back(chunk);
        start += chunkSize;
    }
    
    return lines;
}
```

### üìñ –ß—Ç–æ –¥–µ–ª–∞–µ—Ç —ç—Ç–∞ —Ñ—É–Ω–∫—Ü–∏—è?
–†–∞–∑–±–∏–≤–∞–µ—Ç –¥–ª–∏–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å—Ç—Ä–æ–∫, –∫–∞–∂–¥–∞—è –Ω–µ –¥–ª–∏–Ω–Ω–µ–µ `maxWidth` —Å–∏–º–≤–æ–ª–æ–≤.

### üîç –†–∞–∑–±–æ—Ä –ø–æ —Å—Ç—Ä–æ—á–∫–∞–º:

**–°—Ç—Ä–æ–∫–∞ 1:** `vector<string> wrapUtf8(const string& s, int maxWidth)`
- –í–æ–∑–≤—Ä–∞—â–∞–µ–º –≤–µ–∫—Ç–æ—Ä —Å—Ç—Ä–æ–∫ (–º–∞—Å—Å–∏–≤ —Å—Ç—Ä–æ–∫)
- –ü—Ä–∏–Ω–∏–º–∞–µ–º –∏—Å—Ö–æ–¥–Ω—ã–π —Ç–µ–∫—Å—Ç –∏ –º–∞–∫—Å–∏–º–∞–ª—å–Ω—É—é —à–∏—Ä–∏–Ω—É

**–°—Ç—Ä–æ–∫–∞ 2:** `vector<string> lines;`
- –°–æ–∑–¥–∞—ë–º –ø—É—Å—Ç–æ–π –º–∞—Å—Å–∏–≤ –¥–ª—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞

**–°—Ç—Ä–æ–∫–∞ 3:** `if (maxWidth <= 0) return lines;`
- –ï—Å–ª–∏ —à–∏—Ä–∏–Ω–∞ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è, –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –ø—É—Å—Ç–æ–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç

**–°—Ç—Ä–æ–∫–∞ 5:** `int totalChars = utf8_width(s);`
- –£–∑–Ω–∞—ë–º, —Å–∫–æ–ª—å–∫–æ –≤—Å–µ–≥–æ —Å–∏–º–≤–æ–ª–æ–≤ –≤ —Ç–µ–∫—Å—Ç–µ

**–°—Ç—Ä–æ–∫–∏ 6-9:** –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–ª—è –∫–æ—Ä–æ—Ç–∫–∏—Ö —Å—Ç—Ä–æ–∫
```cpp
if (totalChars <= maxWidth) {    // –ï—Å–ª–∏ —Ç–µ–∫—Å—Ç –ø–æ–º–µ—â–∞–µ—Ç—Å—è –≤ –æ–¥–Ω—É —Å—Ç—Ä–æ–∫—É
    lines.push_back(s);          // –î–æ–±–∞–≤–ª—è–µ–º –µ–≥–æ —Ü–µ–ª–∏–∫–æ–º
    return lines;                // –ò –≤–æ–∑–≤—Ä–∞—â–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç
}
```

**–°—Ç—Ä–æ–∫–∞ 11:** `int start = 0;`
- –ù–∞—á–∏–Ω–∞–µ–º —Å –ø–µ—Ä–≤–æ–≥–æ —Å–∏–º–≤–æ–ª–∞

**–°—Ç—Ä–æ–∫–∞ 12:** `while (start < totalChars)`
- –¶–∏–∫–ª –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç—Å—è, –ø–æ–∫–∞ –Ω–µ –æ–±—Ä–∞–±–æ—Ç–∞–µ–º –≤—Å–µ —Å–∏–º–≤–æ–ª—ã

**–°—Ç—Ä–æ–∫–∞ 13:** `int chunkSize = min(maxWidth, totalChars - start);`
- –í—ã—á–∏—Å–ª—è–µ–º —Ä–∞–∑–º–µ—Ä —Å–ª–µ–¥—É—é—â–µ–≥–æ –∫—É—Å–∫–∞:
- –õ–∏–±–æ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —à–∏—Ä–∏–Ω–∞, –ª–∏–±–æ –æ—Å—Ç–∞–≤—à–∏–µ—Å—è —Å–∏–º–≤–æ–ª—ã (—á—Ç–æ –º–µ–Ω—å—à–µ)

**–°—Ç—Ä–æ–∫–∞ 14:** `string chunk = utf8_substr(s, start, chunkSize);`
- –í—ã—Ä–µ–∑–∞–µ–º –∫—É—Å–æ–∫ –Ω—É–∂–Ω–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞

**–°—Ç—Ä–æ–∫–∞ 15:** `lines.push_back(chunk);`
- –î–æ–±–∞–≤–ª—è–µ–º –∫—É—Å–æ–∫ –≤ –º–∞—Å—Å–∏–≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

**–°—Ç—Ä–æ–∫–∞ 16:** `start += chunkSize;`
- –ü–µ—Ä–µ—Ö–æ–¥–∏–º –∫ —Å–ª–µ–¥—É—é—â–µ–º—É –∫—É—Å–∫—É

### üí° –ü—Ä–∏–º–µ—Ä —Ä–∞–±–æ—Ç—ã:
```cpp
string longText = "–ü—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ–ù–∞–°–∏–ü–ª—é—Å–ü–ª—é—Å";
vector<string> wrapped = wrapUtf8(longText, 10);

// –†–µ–∑—É–ª—å—Ç–∞—Ç:
// wrapped[0] = "–ü—Ä–æ–≥—Ä–∞–º–º–∏—Ä"
// wrapped[1] = "–æ–≤–∞–Ω–∏–µ–ù–∞–°–∏"  
// wrapped[2] = "–ü–ª—é—Å–ü–ª—é—Å"
```

---

## üîó 4. –§—É–Ω–∫—Ü–∏—è `printSeparatorLine()` - –ü–µ—á–∞—Ç—å —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—è

```cpp
void printSeparatorLine(const vector<int>& colWidths) {
    for (size_t i = 0; i < colWidths.size(); i++) {
        cout << string(colWidths[i] + 2, '-');
    }
    cout << "\n";
}
```

### üìñ –ß—Ç–æ –¥–µ–ª–∞–µ—Ç —ç—Ç–∞ —Ñ—É–Ω–∫—Ü–∏—è?
–ü–µ—á–∞—Ç–∞–µ—Ç –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—É—é –ª–∏–Ω–∏—é –∏–∑ –¥–µ—Ñ–∏—Å–æ–≤ –¥–ª—è —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è —Å—Ç—Ä–æ–∫ —Ç–∞–±–ª–∏—Ü—ã.

### üîç –†–∞–∑–±–æ—Ä –ø–æ —Å—Ç—Ä–æ—á–∫–∞–º:

**–°—Ç—Ä–æ–∫–∞ 1:** `void printSeparatorLine(const vector<int>& colWidths)`
- `void` –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ —Ñ—É–Ω–∫—Ü–∏—è –Ω–∏—á–µ–≥–æ –Ω–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç
- –ü—Ä–∏–Ω–∏–º–∞–µ—Ç –º–∞—Å—Å–∏–≤ —Å —à–∏—Ä–∏–Ω–æ–π –∫–∞–∂–¥–æ–≥–æ —Å—Ç–æ–ª–±—Ü–∞

**–°—Ç—Ä–æ–∫–∞ 2:** `for (size_t i = 0; i < colWidths.size(); i++)`
- –¶–∏–∫–ª –ø–æ –≤—Å–µ–º —Å—Ç–æ–ª–±—Ü–∞–º —Ç–∞–±–ª–∏—Ü—ã

**–°—Ç—Ä–æ–∫–∞ 3:** `cout << string(colWidths[i] + 2, '-');`
- **–ú–∞–≥–∏—è!** `string(count, symbol)` —Å–æ–∑–¥–∞—ë—Ç —Å—Ç—Ä–æ–∫—É –∏–∑ `count` —Å–∏–º–≤–æ–ª–æ–≤ `symbol`
- `colWidths[i] + 2` –ø–æ—Ç–æ–º—É —á—Ç–æ –¥–æ–±–∞–≤–ª—è–µ–º –ø—Ä–æ–±–µ–ª—ã —Å–ª–µ–≤–∞ –∏ —Å–ø—Ä–∞–≤–∞ –æ—Ç —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ
- –ü–µ—á–∞—Ç–∞–µ–º –¥–µ—Ñ–∏—Å—ã –Ω–∞ —à–∏—Ä–∏–Ω—É —Å—Ç–æ–ª–±—Ü–∞

**–°—Ç—Ä–æ–∫–∞ 5:** `cout << "\n";`
- –ü–µ—Ä–µ–≤–æ–¥–∏–º —Å—Ç—Ä–æ–∫—É –≤ –∫–æ–Ω—Ü–µ

### üí° –ü—Ä–∏–º–µ—Ä:
–ï—Å–ª–∏ —à–∏—Ä–∏–Ω–∞ —Å—Ç–æ–ª–±—Ü–æ–≤ `[5, 8, 10]`, —Ç–æ –≤—ã–≤–µ–¥–µ—Ç:
```
-------  ----------  ------------
```

---

## üé® 5. –§—É–Ω–∫—Ü–∏—è `printWrappedRow()` - –ü–µ—á–∞—Ç—å —Å—Ç—Ä–æ–∫–∏ —Å –ø–µ—Ä–µ–Ω–æ—Å–∞–º–∏

```cpp
void printWrappedRow(const vector<vector<string>>& wrappedCols, const vector<int>& colWidths) {
    // Find max height (number of lines) for this row
    int maxLines = 0;
    for (const auto& col : wrappedCols) {
        maxLines = max(maxLines, (int)col.size());
    }
    
    // Print each line of the row
    for (int line = 0; line < maxLines; line++) {
        cout << "|";
        for (size_t col = 0; col < wrappedCols.size(); col++) {
            string cellContent = "";
            if (line < wrappedCols[col].size()) {
                cellContent = wrappedCols[col][line];
            }
            
            int contentWidth = utf8_width(cellContent);
            int padding = colWidths[col] - contentWidth;
            
            cout << cellContent;
            cout << string(padding + 1, ' ');
            cout << "|";
        }
        cout << "\n";
    }
}
```

### üìñ –ß—Ç–æ –¥–µ–ª–∞–µ—Ç —ç—Ç–∞ —Ñ—É–Ω–∫—Ü–∏—è?
–ü–µ—á–∞—Ç–∞–µ—Ç –æ–¥–Ω—É —Å—Ç—Ä–æ–∫—É —Ç–∞–±–ª–∏—Ü—ã, –∫–æ—Ç–æ—Ä–∞—è –º–æ–∂–µ—Ç –∑–∞–Ω–∏–º–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —ç–∫—Ä–∞–Ω–Ω—ã—Ö —Å—Ç—Ä–æ–∫ –∏–∑-–∑–∞ –ø–µ—Ä–µ–Ω–æ—Å–æ–≤.

### üîç –†–∞–∑–±–æ—Ä –ø–æ —Å—Ç—Ä–æ—á–∫–∞–º:

**–°—Ç—Ä–æ–∫–∞ 1:** `void printWrappedRow(const vector<vector<string>>& wrappedCols, const vector<int>& colWidths)`
- `wrappedCols` - —ç—Ç–æ –º–∞—Å—Å–∏–≤ —Å—Ç–æ–ª–±—Ü–æ–≤, –∫–∞–∂–¥—ã–π —Å—Ç–æ–ª–±–µ—Ü - —ç—Ç–æ –º–∞—Å—Å–∏–≤ —Å—Ç—Ä–æ–∫ (–ø–æ—Å–ª–µ –ø–µ—Ä–µ–Ω–æ—Å–∞)
- `colWidths` - —à–∏—Ä–∏–Ω–∞ –∫–∞–∂–¥–æ–≥–æ —Å—Ç–æ–ª–±—Ü–∞

**–°—Ç—Ä–æ–∫–∏ 3-6:** –ù–∞—Ö–æ–¥–∏–º –º–∞–∫—Å–∏–º–∞–ª—å–Ω—É—é –≤—ã—Å–æ—Ç—É —Å—Ç—Ä–æ–∫–∏
```cpp
int maxLines = 0;
for (const auto& col : wrappedCols) {          // –î–ª—è –∫–∞–∂–¥–æ–≥–æ —Å—Ç–æ–ª–±—Ü–∞
    maxLines = max(maxLines, (int)col.size());  // –ó–∞–ø–æ–º–∏–Ω–∞–µ–º –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç—Ä–æ–∫
}
```

**–°—Ç—Ä–æ–∫–∞ 9:** `for (int line = 0; line < maxLines; line++)`
- –ü–µ—á–∞—Ç–∞–µ–º –∫–∞–∂–¥—É—é —ç–∫—Ä–∞–Ω–Ω—É—é —Å—Ç—Ä–æ–∫—É –æ—Ç–¥–µ–ª—å–Ω–æ

**–°—Ç—Ä–æ–∫–∞ 10:** `cout << "|";`
- –ù–∞—á–∏–Ω–∞–µ–º —Å –ª–µ–≤–æ–≥–æ —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—è

**–°—Ç—Ä–æ–∫–∞ 11:** `for (size_t col = 0; col < wrappedCols.size(); col++)`
- –¶–∏–∫–ª –ø–æ –≤—Å–µ–º —Å—Ç–æ–ª–±—Ü–∞–º

**–°—Ç—Ä–æ–∫–∏ 12-16:** –ü–æ–ª—É—á–∞–µ–º —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —è—á–µ–π–∫–∏
```cpp
string cellContent = "";
if (line < wrappedCols[col].size()) {    // –ï—Å–ª–∏ –≤ —ç—Ç–æ–º —Å—Ç–æ–ª–±—Ü–µ –µ—Å—Ç—å —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –¥–ª—è —ç—Ç–æ–π —Å—Ç—Ä–æ–∫–∏
    cellContent = wrappedCols[col][line]; // –ë–µ—Ä—ë–º –µ–≥–æ
}
// –ò–Ω–∞—á–µ –æ—Å—Ç–∞–≤–ª—è–µ–º –ø—É—Å—Ç—É—é —Å—Ç—Ä–æ–∫—É (–¥–ª—è –≤—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏—è –≤—ã—Å–æ—Ç—ã)
```

**–°—Ç—Ä–æ–∫–∏ 18-19:** –í—ã—á–∏—Å–ª—è–µ–º –æ—Ç—Å—Ç—É–ø
```cpp
int contentWidth = utf8_width(cellContent);      // –®–∏—Ä–∏–Ω–∞ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ
int padding = colWidths[col] - contentWidth;     // –°–∫–æ–ª—å–∫–æ –ø—Ä–æ–±–µ–ª–æ–≤ –¥–æ–±–∞–≤–∏—Ç—å
```

**–°—Ç—Ä–æ–∫–∏ 21-23:** –ü–µ—á–∞—Ç–∞–µ–º —è—á–µ–π–∫—É
```cpp
cout << cellContent;                    // –°–æ–¥–µ—Ä–∂–∏–º–æ–µ
cout << string(padding + 1, ' ');      // –ü—Ä–æ–±–µ–ª—ã –¥–ª—è –≤—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏—è + 1 –¥–ª—è –æ—Ç—Å—Ç—É–ø–∞
cout << "|";                           // –ü—Ä–∞–≤—ã–π —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å
```

### üí° –ü—Ä–∏–º–µ—Ä —Ä–∞–±–æ—Ç—ã:

**–í—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:**
```cpp
wrappedCols = {
    {"–ò–≤–∞–Ω"},           // –°—Ç–æ–ª–±–µ—Ü 1: 1 —Å—Ç—Ä–æ–∫–∞
    {"–û—á–µ–Ω—å", "–î–ª–∏–Ω"},  // –°—Ç–æ–ª–±–µ—Ü 2: 2 —Å—Ç—Ä–æ–∫–∏  
    {"–§–∞–º–∏–ª–∏—è"}         // –°—Ç–æ–ª–±–µ—Ü 3: 1 —Å—Ç—Ä–æ–∫–∞
}
colWidths = {8, 8, 10}
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```
|–ò–≤–∞–Ω     |–û—á–µ–Ω—å    |–§–∞–º–∏–ª–∏—è    |
|         |–î–ª–∏–Ω     |           |
```

---

## üóÇÔ∏è 6. –§—É–Ω–∫—Ü–∏—è `sortStudentsByYear()` - –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ –≥–æ–¥—É

```cpp
void sortStudentsByYear() {
    for (int i = 0; i < studentCount - 1; i++) {
        for (int j = 0; j < studentCount - i - 1; j++) {
            if (students[j].year > students[j + 1].year) {
                Student temp = students[j];
                students[j] = students[j + 1];
                students[j + 1] = temp;
            }
        }
    }
}
```

### üìñ –ß—Ç–æ –¥–µ–ª–∞–µ—Ç —ç—Ç–∞ —Ñ—É–Ω–∫—Ü–∏—è?
–°–æ—Ä—Ç–∏—Ä—É–µ—Ç –º–∞—Å—Å–∏–≤ —Å—Ç—É–¥–µ–Ω—Ç–æ–≤ –ø–æ –≥–æ–¥—É –ø–æ—Å—Ç—É–ø–ª–µ–Ω–∏—è (–æ—Ç –º–µ–Ω—å—à–µ–≥–æ –∫ –±–æ–ª—å—à–µ–º—É) –∏—Å–ø–æ–ª—å–∑—É—è –∞–ª–≥–æ—Ä–∏—Ç–º "–ø—É–∑—ã—Ä—å–∫–æ–≤–æ–π —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏".

### üîç –†–∞–∑–±–æ—Ä –ø–æ —Å—Ç—Ä–æ—á–∫–∞–º:

**–°—Ç—Ä–æ–∫–∞ 1:** `void sortStudentsByYear()`
- –§—É–Ω–∫—Ü–∏—è –Ω–µ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤, —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –≥–ª–æ–±–∞–ª—å–Ω—ã–º –º–∞—Å—Å–∏–≤–æ–º `students`

**–°—Ç—Ä–æ–∫–∞ 2:** `for (int i = 0; i < studentCount - 1; i++)`
- –í–Ω–µ—à–Ω–∏–π —Ü–∏–∫–ª: –≤—ã–ø–æ–ª–Ω—è–µ–º `studentCount - 1` –ø—Ä–æ—Ö–æ–¥–æ–≤
- –ü–æ—á–µ–º—É `-1`? –ü–æ—Ç–æ–º—É —á—Ç–æ –Ω–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–º –ø—Ä–æ—Ö–æ–¥–µ –æ—Å—Ç–∞—ë—Ç—Å—è —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —ç–ª–µ–º–µ–Ω—Ç

**–°—Ç—Ä–æ–∫–∞ 3:** `for (int j = 0; j < studentCount - i - 1; j++)`
- –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π —Ü–∏–∫–ª: —Å—Ä–∞–≤–Ω–∏–≤–∞–µ–º —Å–æ—Å–µ–¥–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç—ã
- `- i` –ø–æ—Ç–æ–º—É —á—Ç–æ —Å –∫–∞–∂–¥—ã–º –ø—Ä–æ—Ö–æ–¥–æ–º –æ–¥–∏–Ω —ç–ª–µ–º–µ–Ω—Ç "–≤—Å–ø–ª—ã–≤–∞–µ—Ç" –≤ –∫–æ–Ω–µ—Ü

**–°—Ç—Ä–æ–∫–∞ 4:** `if (students[j].year > students[j + 1].year)`
- –ï—Å–ª–∏ —Ç–µ–∫—É—â–∏–π —Å—Ç—É–¥–µ–Ω—Ç –ø–æ—Å—Ç—É–ø–∏–ª **–ø–æ–∑–∂–µ** —Å–ª–µ–¥—É—é—â–µ–≥–æ, –º–µ–Ω—è–µ–º –∏—Ö –º–µ—Å—Ç–∞–º–∏

**–°—Ç—Ä–æ–∫–∏ 5-7:** –û–±–º–µ–Ω –∑–Ω–∞—á–µ–Ω–∏—è–º–∏
```cpp
Student temp = students[j];        // –°–æ—Ö—Ä–∞–Ω—è–µ–º –ø–µ—Ä–≤–æ–≥–æ —Å—Ç—É–¥–µ–Ω—Ç–∞
students[j] = students[j + 1];     // –ü–µ—Ä–µ–º–µ—â–∞–µ–º –≤—Ç–æ—Ä–æ–≥–æ –Ω–∞ –º–µ—Å—Ç–æ –ø–µ—Ä–≤–æ–≥–æ
students[j + 1] = temp;            // –°—Ç–∞–≤–∏–º –ø–µ—Ä–≤–æ–≥–æ –Ω–∞ –º–µ—Å—Ç–æ –≤—Ç–æ—Ä–æ–≥–æ
```

### üí° –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—É–∑—ã—Ä—å–∫–æ–≤–∞—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞:

**–ù–∞—á–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:** `[2021, 2019, 2020, 2018]`

**–ü—Ä–æ—Ö–æ–¥ 1:**
- –°—Ä–∞–≤–Ω–∏–≤–∞–µ–º 2021 –∏ 2019: 2021 > 2019 ‚Üí –º–µ–Ω—è–µ–º ‚Üí `[2019, 2021, 2020, 2018]`
- –°—Ä–∞–≤–Ω–∏–≤–∞–µ–º 2021 –∏ 2020: 2021 > 2020 ‚Üí –º–µ–Ω—è–µ–º ‚Üí `[2019, 2020, 2021, 2018]`
- –°—Ä–∞–≤–Ω–∏–≤–∞–µ–º 2021 –∏ 2018: 2021 > 2018 ‚Üí –º–µ–Ω—è–µ–º ‚Üí `[2019, 2020, 2018, 2021]`

**–ü—Ä–æ—Ö–æ–¥ 2:**
- –°—Ä–∞–≤–Ω–∏–≤–∞–µ–º 2019 –∏ 2020: 2019 < 2020 ‚Üí –Ω–µ –º–µ–Ω—è–µ–º
- –°—Ä–∞–≤–Ω–∏–≤–∞–µ–º 2020 –∏ 2018: 2020 > 2018 ‚Üí –º–µ–Ω—è–µ–º ‚Üí `[2019, 2018, 2020, 2021]`

**–ü—Ä–æ—Ö–æ–¥ 3:**
- –°—Ä–∞–≤–Ω–∏–≤–∞–µ–º 2019 –∏ 2018: 2019 > 2018 ‚Üí –º–µ–Ω—è–µ–º ‚Üí `[2018, 2019, 2020, 2021]`

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** `[2018, 2019, 2020, 2021]` ‚úÖ

---

## üéØ 7. –ì–ª–∞–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è `printArray()` - –ü–µ—á–∞—Ç—å –≤—Å–µ–π —Ç–∞–±–ª–∏—Ü—ã

```cpp
void printArray() {
    if (studentCount == 0) {
        cout << "–ù–µ—Ç —Å—Ç—É–¥–µ–Ω—Ç–æ–≤.\n";
        return;
    }
    
    // Sort students by year ascending before displaying
    sortStudentsByYear();

    // Define column headers
    vector<string> headers = {
        "‚Ññ", "–ì–æ–¥", "–ö—É—Ä—Å", "–ò–º—è", "–§–∞–º–∏–ª–∏—è", "–û—Ç—á–µ—Å—Ç–≤–æ",
        "–ü—Ä–µ–¥–º–µ—Ç 1", "–û—Ü–µ–Ω–∫–∏ 1", "–ü—Ä–µ–¥–º–µ—Ç 2", "–û—Ü–µ–Ω–∫–∏ 2", "–ü—Ä–µ–¥–º–µ—Ç 3", "–û—Ü–µ–Ω–∫–∏ 3"
    };
    
    const int MAX_CELL_WIDTH = 20;
    vector<int> colWidths(headers.size(), 0);
    
    // Calculate minimum column widths based on headers
    for (size_t i = 0; i < headers.size(); i++) {
        colWidths[i] = min(MAX_CELL_WIDTH, utf8_width(headers[i]));
    }
    
    // Calculate required widths based on actual data content
    for (int i = 0; i < studentCount; i++) {
        // Prepare all column data for this student
        vector<string> rowData = {
            to_string(i + 1),                    // No
            to_string(students[i].year),         // Year  
            to_string(students[i].course),       // Course
            students[i].name,                    // Name
            students[i].surname,                 // Surname
            students[i].middleName,              // Middle Name
            students[i].subjects[0],             // Subject 1
            students[i].grades[0],               // Grades 1
            students[i].subjects[1],             // Subject 2
            students[i].grades[1],               // Grades 2
            students[i].subjects[2],             // Subject 3
            students[i].grades[2]                // Grades 3
        };
        
        // Update column widths based on content
        for (size_t j = 0; j < rowData.size(); j++) {
            int contentWidth = utf8_width(rowData[j]);
            int requiredWidth = min(MAX_CELL_WIDTH, contentWidth);
            colWidths[j] = max(colWidths[j], requiredWidth);
        }
    }
    
    // Print header row
    vector<vector<string>> headerWrapped(headers.size());
    for (size_t i = 0; i < headers.size(); i++) {
        headerWrapped[i] = wrapUtf8(headers[i], colWidths[i]);
    }
    printWrappedRow(headerWrapped, colWidths);
    
    // Print header separator
    printSeparatorLine(colWidths);
    
    // Print data rows
    for (int i = 0; i < studentCount; i++) {
        // Prepare all column data for this student
        vector<string> rowData = {
            to_string(i + 1),                    // No
            to_string(students[i].year),         // Year  
            to_string(students[i].course),       // Course
            students[i].name,                    // Name
            students[i].surname,                 // Surname
            students[i].middleName,              // Middle Name
            students[i].subjects[0],             // Subject 1
            students[i].grades[0],               // Grades 1
            students[i].subjects[1],             // Subject 2
            students[i].grades[1],               // Grades 2
            students[i].subjects[2],             // Subject 3
            students[i].grades[2]                // Grades 3
        };
        
        // Wrap each column's content
        vector<vector<string>> wrappedRow(rowData.size());
        for (size_t j = 0; j < rowData.size(); j++) {
            wrappedRow[j] = wrapUtf8(rowData[j], colWidths[j]);
        }
        
        // Print the wrapped row
        printWrappedRow(wrappedRow, colWidths);
        
        // Print row separator
        printSeparatorLine(colWidths);
    }
}
```

### üìñ –ß—Ç–æ –¥–µ–ª–∞–µ—Ç —ç—Ç–∞ —Ñ—É–Ω–∫—Ü–∏—è?
–≠—Ç–æ "–¥–∏—Ä–∏–∂—ë—Ä –æ—Ä–∫–µ—Å—Ç—Ä–∞" - –≥–ª–∞–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è, –∫–æ—Ç–æ—Ä–∞—è –∫–æ–æ—Ä–¥–∏–Ω–∏—Ä—É–µ—Ç —Ä–∞–±–æ—Ç—É –≤—Å–µ—Ö –æ—Å—Ç–∞–ª—å–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∫—Ä–∞—Å–∏–≤–æ–π —Ç–∞–±–ª–∏—Ü—ã.

### üîç –†–∞–∑–±–æ—Ä –ø–æ —ç—Ç–∞–ø–∞–º:

### **–≠—Ç–∞–ø 1: –ü—Ä–æ–≤–µ—Ä–∫–∏ –∏ –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞**
```cpp
if (studentCount == 0) {
    cout << "–ù–µ—Ç —Å—Ç—É–¥–µ–Ω—Ç–æ–≤.\n";
    return;
}

sortStudentsByYear();  // –°–æ—Ä—Ç–∏—Ä—É–µ–º –ø–µ—Ä–µ–¥ –ø–æ–∫–∞–∑–æ–º
```

### **–≠—Ç–∞–ø 2: –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã —Ç–∞–±–ª–∏—Ü—ã**
```cpp
vector<string> headers = {
    "‚Ññ", "–ì–æ–¥", "–ö—É—Ä—Å", "–ò–º—è", "–§–∞–º–∏–ª–∏—è", "–û—Ç—á–µ—Å—Ç–≤–æ",
    "–ü—Ä–µ–¥–º–µ—Ç 1", "–û—Ü–µ–Ω–∫–∏ 1", "–ü—Ä–µ–¥–º–µ—Ç 2", "–û—Ü–µ–Ω–∫–∏ 2", "–ü—Ä–µ–¥–º–µ—Ç 3", "–û—Ü–µ–Ω–∫–∏ 3"
};

const int MAX_CELL_WIDTH = 20;          // –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —à–∏—Ä–∏–Ω–∞ —è—á–µ–π–∫–∏
vector<int> colWidths(headers.size(), 0); // –®–∏—Ä–∏–Ω–∞ –∫–∞–∂–¥–æ–≥–æ —Å—Ç–æ–ª–±—Ü–∞
```

### **–≠—Ç–∞–ø 3: –í—ã—á–∏—Å–ª–µ–Ω–∏–µ —à–∏—Ä–∏–Ω—ã —Å—Ç–æ–ª–±—Ü–æ–≤ –ø–æ –∑–∞–≥–æ–ª–æ–≤–∫–∞–º**
```cpp
for (size_t i = 0; i < headers.size(); i++) {
    colWidths[i] = min(MAX_CELL_WIDTH, utf8_width(headers[i]));
}
```
*"–ü–æ—Å–º–æ—Ç—Ä–∏–º, –∫–∞–∫–∞—è —à–∏—Ä–∏–Ω–∞ –Ω—É–∂–Ω–∞ –¥–ª—è –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤"*

### **–≠—Ç–∞–ø 4: –í—ã—á–∏—Å–ª–µ–Ω–∏–µ —à–∏—Ä–∏–Ω—ã —Å—Ç–æ–ª–±—Ü–æ–≤ –ø–æ –¥–∞–Ω–Ω—ã–º**
```cpp
for (int i = 0; i < studentCount; i++) {          // –î–ª—è –∫–∞–∂–¥–æ–≥–æ —Å—Ç—É–¥–µ–Ω—Ç–∞
    vector<string> rowData = {                    // –°–æ–±–∏—Ä–∞–µ–º –≤—Å–µ –¥–∞–Ω–Ω—ã–µ –≤ –º–∞—Å—Å–∏–≤
        to_string(i + 1),                         // –ù–æ–º–µ—Ä –ø–æ –ø–æ—Ä—è–¥–∫—É
        to_string(students[i].year),              // –ì–æ–¥ –ø–æ—Å—Ç—É–ø–ª–µ–Ω–∏—è
        // ... –∏ —Ç–∞–∫ –¥–∞–ª–µ–µ
    };
    
    for (size_t j = 0; j < rowData.size(); j++) { // –î–ª—è –∫–∞–∂–¥–æ–≥–æ —Å—Ç–æ–ª–±—Ü–∞
        int contentWidth = utf8_width(rowData[j]);                    // –®–∏—Ä–∏–Ω–∞ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ
        int requiredWidth = min(MAX_CELL_WIDTH, contentWidth);        // –ù–µ –±–æ–ª—å—à–µ –º–∞–∫—Å–∏–º—É–º–∞
        colWidths[j] = max(colWidths[j], requiredWidth);              // –ë–µ—Ä—ë–º –º–∞–∫—Å–∏–º—É–º
    }
}
```
*"–¢–µ–ø–µ—Ä—å –ø–æ—Å–º–æ—Ç—Ä–∏–º, –∫–∞–∫–∞—è —à–∏—Ä–∏–Ω–∞ –Ω—É–∂–Ω–∞ –¥–ª—è –¥–∞–Ω–Ω—ã—Ö, –∏ –≤–æ–∑—å–º—ë–º –º–∞–∫—Å–∏–º—É–º"*

### **–≠—Ç–∞–ø 5: –ü–µ—á–∞—Ç—å –∑–∞–≥–æ–ª–æ–≤–∫–∞**
```cpp
vector<vector<string>> headerWrapped(headers.size());     // –ú–∞—Å—Å–∏–≤ –¥–ª—è –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ —Å –ø–µ—Ä–µ–Ω–æ—Å–∞–º–∏
for (size_t i = 0; i < headers.size(); i++) {
    headerWrapped[i] = wrapUtf8(headers[i], colWidths[i]); // –ü–µ—Ä–µ–Ω–æ—Å–∏–º –∫–∞–∂–¥—ã–π –∑–∞–≥–æ–ª–æ–≤–æ–∫
}
printWrappedRow(headerWrapped, colWidths);                 // –ü–µ—á–∞—Ç–∞–µ–º –∑–∞–≥–æ–ª–æ–≤–æ–∫
printSeparatorLine(colWidths);                             // –ü–µ—á–∞—Ç–∞–µ–º —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å
```

### **–≠—Ç–∞–ø 6: –ü–µ—á–∞—Ç—å –¥–∞–Ω–Ω—ã—Ö**
```cpp
for (int i = 0; i < studentCount; i++) {              // –î–ª—è –∫–∞–∂–¥–æ–≥–æ —Å—Ç—É–¥–µ–Ω—Ç–∞
    // –°–æ–±–∏—Ä–∞–µ–º –¥–∞–Ω–Ω—ã–µ (—Ç–æ—Ç –∂–µ –∫–æ–¥, —á—Ç–æ –∏ –≤ —ç—Ç–∞–ø–µ 4)
    vector<string> rowData = { /* ... */ };
    
    // –ü–µ—Ä–µ–Ω–æ—Å–∏–º –∫–∞–∂–¥—ã–π —Å—Ç–æ–ª–±–µ—Ü
    vector<vector<string>> wrappedRow(rowData.size());
    for (size_t j = 0; j < rowData.size(); j++) {
        wrappedRow[j] = wrapUtf8(rowData[j], colWidths[j]);
    }
    
    // –ü–µ—á–∞—Ç–∞–µ–º —Å—Ç—Ä–æ–∫—É –∏ —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å
    printWrappedRow(wrappedRow, colWidths);
    printSeparatorLine(colWidths);
}
```

---

## üéâ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–ü–æ–∑–¥—Ä–∞–≤–ª—è—é! –¢–µ–ø–µ—Ä—å –≤—ã –ø–æ–Ω–∏–º–∞–µ—Ç–µ, –∫–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞—à–∞ —Å–∏—Å—Ç–µ–º–∞ –≤—ã–≤–æ–¥–∞ —Ç–∞–±–ª–∏—Ü:

1. **`utf8_width()`** - –ø—Ä–∞–≤–∏–ª—å–Ω–æ —Å—á–∏—Ç–∞–µ—Ç —Å–∏–º–≤–æ–ª—ã
2. **`utf8_substr()`** - –ø—Ä–∞–≤–∏–ª—å–Ω–æ —Ä–µ–∂–µ—Ç —Å—Ç—Ä–æ–∫–∏
3. **`wrapUtf8()`** - –ø–µ—Ä–µ–Ω–æ—Å–∏—Ç –¥–ª–∏–Ω–Ω—ã–µ —Å—Ç—Ä–æ–∫–∏
4. **`printSeparatorLine()`** - —Ä–∏—Å—É–µ—Ç —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª–∏
5. **`printWrappedRow()`** - –ø–µ—á–∞—Ç–∞–µ—Ç —Å—Ç—Ä–æ–∫–∏ —Å –ø–µ—Ä–µ–Ω–æ—Å–∞–º–∏
6. **`sortStudentsByYear()`** - —Å–æ—Ä—Ç–∏—Ä—É–µ—Ç –¥–∞–Ω–Ω—ã–µ
7. **`printArray()`** - –∫–æ–æ—Ä–¥–∏–Ω–∏—Ä—É–µ—Ç –≤—Å—ë –≤–º–µ—Å—Ç–µ

### üåü –ö–ª—é—á–µ–≤—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã:
- **UTF-8 –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**: –º—ã –≤—Å–µ–≥–¥–∞ —Ä–∞–±–æ—Ç–∞–µ–º —Å —Å–∏–º–≤–æ–ª–∞–º–∏, –∞ –Ω–µ –±–∞–π—Ç–∞–º–∏
- **–î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –≤—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–µ**: —Ç–∞–±–ª–∏—Ü–∞ –ø–æ–¥—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è –ø–æ–¥ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ
- **–ü–µ—Ä–µ–Ω–æ—Å –±–µ–∑ –ø–æ—Ç–µ—Ä—å**: –¥–ª–∏–Ω–Ω—ã–µ —Å—Ç—Ä–æ–∫–∏ –ø–µ—Ä–µ–Ω–æ—Å—è—Ç—Å—è, –Ω–æ –Ω–µ –æ–±—Ä–µ–∑–∞—é—Ç—Å—è
- **–ï–¥–∏–Ω–∞—è –≤—ã—Å–æ—Ç–∞ —Å—Ç—Ä–æ–∫**: –µ—Å–ª–∏ –æ–¥–Ω–∞ —è—á–µ–π–∫–∞ –ø–µ—Ä–µ–Ω–æ—Å–∏—Ç—Å—è, –≤—Å—è —Å—Ç—Ä–æ–∫–∞ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –≤—ã—Å–æ–∫–æ–π

–£–¥–∞—á–∏ –≤ –∏–∑—É—á–µ–Ω–∏–∏ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è! üöÄ

---

*¬© –õ—É—á—à–∏–π –ø—Ä–æ—Ñ–µ—Å—Å–æ—Ä –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è 2024*